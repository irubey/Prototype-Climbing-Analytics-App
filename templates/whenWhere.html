<!DOCTYPE html>
<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QLKC35PVJB"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-QLKC35PVJB');
    </script>
    <title>When and Where</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
    var sportPyramidData = {{ sport_pyramid|safe }};
    var tradPyramidData = {{ trad_pyramid|safe }};
    var boulderPyramidData = {{ boulder_pyramid|safe }};
    var userTicksData = {{ user_ticks|safe }};
    var binnedCodeDict = {{ binned_code_dict|safe }};
    </script>
</head>
<body>

    <section>

        <a href="{{ url_for('userviz', username=username) }}">Home</a>
        <br>
        <a href="mailto:climbing.analytics@gmail.com"> This is a prototype application, please provide feedback here</a>

        <h2>Location</h2>
        <div id="location-race"></div>

        <!-- Days Outside per Season -->
        <h2>Days Outside per Season</h2>
        <div id="days-outside-filters">
            <h3>Time Filter</h3>
            <input type="radio" id="filter-outside-time-allTime" name="days-outside-time-filter" value="allTime" checked>
            <label for="filter-outside-time-allTime">All Time</label>
            <input type="radio" id="filter-outside-time-lastYear" name="days-outside-time-filter" value="lastYear">
            <label for="filter-outside-time-lastYear">Past Year</label>
        </div>
        <div id="days-outside"></div>

    </section>
    
    <!-- Include the second JavaScript file -->
    <script src="{{ url_for('static', filename='js/commonFilters.js') }}"></script>
    <script src="{{ url_for('static', filename='js/locationRace.js') }}"></script>
    <script src="{{ url_for('static', filename='js/daysOutside.js') }}"></script>
    <script>
        locationRaceChart(userTicksData, "#location-race");
    </script>
</body>
</html>
