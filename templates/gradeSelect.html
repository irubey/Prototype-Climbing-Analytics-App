{% macro grade_select(name, grade_options, current_grade=None, required=False) %}
<select class="grade-select" name="{{ name }}" {% if required %}required{% endif %}>
    <option value="" {% if not current_grade %}selected{% endif %}>Select Grade</option>
    {% for grade in grade_options %}
    <option value="{{ grade }}" {% if grade==current_grade %}selected{% endif %}>{{ grade }}</option>
    {% endfor %}
</select>

<style>
    .grade-select {
        width: 100%;
        padding: 0.5rem;
        margin-bottom: 0.5rem;
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        background-color: var(--input-bg);
        color: var(--text-color);
        font-size: var(--font-size-base);
        line-height: 1.5;
        transition: border-color var(--transition-base), box-shadow var(--transition-base);
    }

    .grade-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.2);
    }

    .grade-select option {
        padding: 0.5rem;
    }

    .grade-select:disabled {
        opacity: 0.7;
        cursor: not-allowed;
    }
</style>
{% endmacro %}