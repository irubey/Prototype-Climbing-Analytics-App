[pytest]
testpaths = app/tests
norecursedirs =
    alembic
    data_analysis
    cache
    docs
    models
    static

markers =
    integration: marks tests that integrate with external services
asyncio_mode = strict
asyncio_default_fixture_loop_scope = function

env =
    ENVIRONMENT=testing

# Filter out specific deprecation warnings from third-party libraries
filterwarnings =
    ignore:Setting per-request cookies=:DeprecationWarning:httpx
    ignore:datetime.datetime.utcnow\(\) is deprecated:DeprecationWarning:jose
    ignore::DeprecationWarning:asyncio
    ignore:The event_loop fixture provided by pytest-asyncio:DeprecationWarning
    ignore:The configuration option "asyncio_default_fixture_loop_scope" is unset::pytest_asyncio.plugin
